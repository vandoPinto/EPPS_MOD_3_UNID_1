<style>
	li {
		margin-bottom: 12px;
		margin-left: 18px;
	}

	.questao:hover {
		background-color: var(--color-azul-escuro);
		cursor: pointer;
	}

	.marcado {
		background-color: var(--color-azul-escuro);
	}

	.opWrong {
		opacity: 0.5;
	}

	.submeter {
		margin: 1em auto;
		font-weight: bold;
		color: #ffffff;
		border-radius: 3px;
		background-color: var(--color-azul-escuro);
		border: solid 0 transparent;
		outline: none;
		box-shadow: 0 0.1em rgb(0 0 0 / 50%);
		padding: 0.5em;
		display: block;
		width: 50%;
		cursor: pointer;
		text-align: center;
	}
</style>
<div class="largura-1_1">
	<img style="width:100%; right: 0px;" src="recursos/imgs/RM_M1A1_Banner01.svg">
	<div style="position: absolute;top: 11px;left: 96px;">
		<p style="font-family: 'OpenSans', sans-serif;color: #08536A;font-size: 15px;font-weight: 900;">POLÍTICAS
			PÚBLICAS EM SAÚDE</p>
	</div>
</div>
<div>
	<div id="drop_1_1"
		style="position: absolute;top: 185px;left: 42px;background-color: gray;width: 150px;height: 40px;opacity: .5;"
		class="empty">
	</div>
	<div id="drop_1_2"
		style="position: absolute;top: 228px;left: 42px;opacity: .5;background-color: gray;width: 150px;height: 40px;">
	</div>
	<div id="drop_1_3"
		style="position: absolute;top: 272px;left: 42px;opacity: .5;background-color: gray;width: 150px;height: 40px;">
	</div>
</div>
<div>
	<div id="drag_1_1" style="position: absolute;left: 120px;top: 340px;cursor: pointer;" class="drag">
		<img src="recursos/icones/drag1.svg" style="width: 150px;">
	</div>
	<div id="drag_3_3" style="position: absolute;left: 350px;top: 340px;cursor: pointer;" class="drag">
		<img src="recursos/icones/drag2.svg" style="width: 167px;">
	</div>
	<div id="drag_2_2" style="position: absolute;left: 560px;top: 340px;cursor: pointer;" class="drag">
		<img src="recursos/icones/drag3.svg" style="width: 150px;">
	</div>
</div>
<div class="coluna-direita largura-1_1">
	<div style="width: 83%;margin: 37px auto;">
		<h1>Questão 3</h1>
		<p>Agenda é a lista de assuntos e problemas sobre os quais o governo e as pessoas ligadas a ele concentram
			sua
			atenção num determinado momento e pode ser classificada em três tipos. Complete os espaços arrastando o
			termo correto.</p>
		<div style="margin-left: 126px;">
			<p>corresponde à lista de assuntos e problemas do país, colocados na sociedade, que por algum motivo não
				despertaram a atenção do governo e dos formuladores de política. </p>
			<p>inclui os problemas que obtêm a
				atenção do governo, mas ainda não se apresentam na mesa de decisão. </p>
			<p>corresponde à lista de problemas
				que estão sendo considerados e que serão trabalhados nos processos decisórios.</p>
		</div>
		<div id="sub" class="submeter" style="width: 20%; margin-top: 100px; display: none;">Submeter</div>
		<div style="position: absolute; width: 500px; left: 21%; top: 28%; height: 150px; display: none; cursor: pointer;"
			id="feedCerto">
			<div class="objetivo animate__animated animate__pulse">
				<div>
					<img class="icone-image" style="width: 11%; margin-right: -6%; margin-top: -24px;"
						src="recursos/icones/RM_M1A1_Icones10.svg">
					<div class="box-click" style="width:468px; margin: 0;">
						<div class="line-box">
							<div style="margin-left: 20px;">
								<h1>Resposta correta</h1>
								<p style="margin-top: 15px;">
									Você acertou a sequência! John Kingdon é um referencial importante para pensar a
									formação da agenda. Em 1984, ele desenvolveu um estudo sobre políticas públicas
									nos
									EUA e, a partir do que pesquisou, construiu um modelo para entender quando e de
									que
									forma um problema entra ou não para a agenda decisória de um governante,
									considerando o processo de tomada de decisão: o modelo de múltiplos.</p>
							</div>
						</div>
						<div class="modal-fechar">
							<button class="btn-fechar" onclick="closeModalSim('dv-modal-sim')">Fechar</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div style="position: absolute; width: 500px; left: 21%; top: 27%; height: 150px; display: none; cursor: pointer;"
			id="feedErrado">
			<div class="objetivo animate__animated animate__pulse">
				<div>
					<img class="icone-image" style="width: 11%; margin-right: -6%; margin-top: -24px;"
						src="recursos/icones/RM_M1A1_Icones10.svg">
					<div class="box-click" style="width:468px; margin: 0;">
						<div class="line-box">
							<div style="margin-left: 20px;">
								<h1>Resposta incorreta</h1>
								<p style="margin-top: 15px;">
									Na verdade, a sequência correta é: agenda sistêmica ou não governamental/agenda
									institucional ou governamental/agenda decisória ou política. John Kingdon é um
									referencial importante para pensar a formação da agenda. Em 1984, ele
									desenvolveu um
									estudo sobre políticas públicas nos EUA e, a partir do que pesquisou, construiu
									um
									modelo para entender quando e de que forma um problema entra ou não para a
									agenda
									decisória de um governante, considerando o processo de tomada de decisão: o
									modelo
									de múltiplos fluxos.</p>
							</div>
						</div>
						<div class="modal-fechar">
							<button class="btn-fechar" onclick="closeModalSim('dv-modal-sim')">Fechar</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<footer class="bg-footer" style="padding: 0; height: 40px;">
	<div style="display: flex;justify-content: space-between;">
		<div style="display: flex;margin-left: 13px;height: 40px;">
			<div
				style="width: 80px;height: 26px;background:  var(--color-blue1);color: white;display: flex;align-items: center;justify-content: center;margin: auto;">
				<p style="font-weight: 900;font-size: 11px;">Unidade 1</p>
			</div>
			<p style="font-size: 11px;width: 190px;margin-left: 10px;color: #FFFFFF;">Epidemiologia</p>
		</div>
		<div style="display: flex;margin-right: 14px;height: 40px;">
			<div
				style="width: 80px;height: 26px;background:  var(--color-blue1);color: white;display: flex;align-items: center;justify-content: center;margin: auto;">
				<p style="font-weight: 900;font-size: 11px;">Módulo 3</p>
			</div>
			<p style="font-size: 11px;margin-left: 10px;color: #FFFFFF;">Análise de Políticas Públicas</p>
		</div>
	</div>
</footer>
<script>
	$(() => {
		let sub = $("#sub").hide().on("click", validarReposta);
		const empties = $(document).find('[id^=drop]');
		let drag;
		let voltar = [];
		let positions = [];
		let janelas = $(document).find('[id^=feed]').css('cursor', 'pointer').on("click", apagarJanelas);
		apagarJanelas();

		function apagarJanelas() {
			janelas.map((index, janela) => {
				$(janela).hide();
			})
		}

		const dragStart = function () {
			this.className += " hold";
			drag = this;
			setTimeout(() => (this.className = "invisible"), 0);
			apagarJanelas();
		};

		const dragOver = function (e) {
			e.preventDefault();
		};

		const dragEnter = function (e) {
			e.preventDefault();
			this.className += " hovered";
		};

		const dragLeave = function () {
			this.className = "empty";
		};

		const dragEnd = function () {
			this.className = "drag";
		};

		const dragDrop = function () {
			this.className = "empty";
			if (this.id.indexOf('drop') == 0) {
				$(sub).fadeIn();
				$("#" + drag.id).animate({ top: $(this)[0].offsetTop, left: $(this)[0].offsetLeft }, 1);
				if (drag.id.split('_')[2] == this.id.split('_')[2]) {
					//$(janelas[(this.id.split('_')[1] - 1)]).fadeIn();
					voltar.map((objeto, index) => {
						if (objeto == drag.id) {
							voltar[index] = null;
						}
					})
				} else {
					voltar[Number(drag.id.split('_')[1]) - 1] = drag.id;
				}
			}
		};

		function validarReposta() {
			if (voltar.every(elem => elem == null)) {
				$("#feedCerto").fadeIn();
			} else {
				voltar.map((objeto, index) => {
					$("#" + objeto).animate(positions[index], 600);
				})
				$("#feedErrado").fadeIn();
			}
			voltar = [];
		}

		$(document).find('[id^=drag]').map((index, objeto) => {
			objeto.addEventListener("dragstart", dragStart);
			objeto.addEventListener("dragend", dragEnd);
			positions[index] = { top: objeto.offsetTop, left: objeto.offsetLeft }
		})

		empties.map((a, b) => {
			b.addEventListener("dragover", dragOver);
			b.addEventListener("dragenter", dragEnter);
			b.addEventListener("dragleave", dragLeave);
			b.addEventListener("drop", dragDrop);
		})
	})
</script>